import"../chunks/disclose-version.Bg9kRutz.js";import{p as P,a as M,f as R,l as U,u as e,s as n,d as j,b as $,c as q,n as z,r as G}from"../chunks/runtime.BrVA7zyZ.js";import{d as H}from"../chunks/events.0BlegxR4.js";import{a as x,t as w}from"../chunks/template.CFDxphtj.js";import{s as J,b as i,a as _}from"../chunks/store.BskVr1ja.js";import{T as K}from"../chunks/TextEditor.D_mf_Kwb.js";import{w as N}from"../chunks/index.CvdT8md8.js";import{S as O}from"../chunks/SectionContainer.D6njeupJ.js";import{a as Q,I as p}from"../chunks/InputFile.kXl3zYT-.js";import{g as B}from"../chunks/entry.vmupUvN3.js";import{p as D}from"../chunks/path.admin.FjXmaQqh.js";import{a as T}from"../chunks/app.api.DJYTDj_q.js";import{o as W}from"../chunks/index-client.DUrKnxgh.js";import{a as c}from"../chunks/notification.DGA-5bOR.js";import{p as X}from"../chunks/stores.BhmepOUu.js";var Y=()=>{B(D.blog.base())},Z=w('<!> <!> <!> <!> <!> <!> <button type="button" class="mt-4 rounded bg-gray-500 px-4 py-2 text-white">Cancel</button> <button type="submit" class="mt-4 rounded bg-blue-500 px-4 py-2 text-white">Save</button>',1),tt=w('<div class="py-8 bg-gray-100"><!></div>');function ft(S,V){P(V,!0);const m=J(),t=()=>_(o,"$blog",m),k=()=>_(X,"$page",m);let o=N({id:"",title:"",description:"",author:"",date:"",categoryIds:[],content:"",thumb:"",isPopular:!1}),d=j(!1);const A=async a=>{a.preventDefault(),$(d,!0);try{const s=await T.updateBlog(t().id,t());if("error"in s){c({message:s.error,type:"error"});return}else c({message:"Blog updated successfully",type:"success"}),B(D.blog.base())}catch(s){console.log(s)}finally{$(d,!1)}},I=(a,s)=>{o.update(l=>({...l,thumb:a}))},C=async()=>{try{const a=await T.getBLogDetail(k().params.id);if("error"in a){c({message:a.error,type:"error"});return}o.set({...a.data,content:a.data.content||"Type content here..."})}catch{}finally{}};W(()=>{C()});var u=tt(),E=q(u);O(E,{isShowPreviewBtn:!1,handleSubmit:A,text:"Edit Blog",children:(a,s)=>{var l=Z(),g=R(l);Q(g,{get loading(){return U(d)},text:"ThumbURL: ",get bindValue(){return t().thumb},placeholder:"Ex: https://placehold.co/1920x800",indexArr:"1",customFuncion:I,$$events:{update:r=>{const{value:L,index:et}=r.detail;i(o,e(t).thumb=L,e(t))}}});var h=n(g,2);p(h,{get bindValue(){return t().title},text:"Title :",placeholder:"Type title here...",$$events:{update:r=>{i(o,e(t).title=r.detail,e(t))}}});var b=n(h,2);p(b,{get bindValue(){return t().description},text:"Description :",placeholder:"Type description here...",$$events:{update:r=>{i(o,e(t).description=r.detail,e(t))}}});var f=n(b,2);p(f,{get bindValue(){return t().author},text:"Author :",placeholder:"Type author here...",$$events:{update:r=>{i(o,e(t).author=r.detail,e(t))}}});var v=n(f,2);p(v,{type:"date",get bindValue(){return t().date},text:"Date :",placeholder:"Type date here...",$$events:{update:r=>{i(o,e(t).date=r.detail,e(t))}}});var y=n(v,2);K(y,{get content(){return t().content},set content(r){i(o,e(t).content=r,e(t))}});var F=n(y,2);F.__click=[Y],z(2),x(a,l)},$$slots:{default:!0}}),G(u),x(S,u),M()}H(["click"]);export{ft as component};
