import"./disclose-version.Bg9kRutz.js";import"./legacy.CtaTdtmd.js";import{a as h,t as y}from"./template.CFDxphtj.js";import{p as M,t as F,a as V,s as f,c as x,r as v}from"./runtime.BrVA7zyZ.js";import{s as E}from"./render.B2FVyqgN.js";import{i as T}from"./if.4zbzKaPF.js";import{s as j}from"./slot.DFD5GxY-.js";import{r as H,s as d,a as P}from"./attributes.DD7GGYj-.js";import{e as B,d as D}from"./events.0BlegxR4.js";import{i as O}from"./lifecycle.Dai50P1c.js";import{p as r}from"./props.D51fi5vX.js";import{c as S}from"./index-client.DUrKnxgh.js";import{M as N,H as U}from"./common.Chk20Gqn.js";import"./entry.CC_BJODY.js";import{a as u}from"./notification.DGA-5bOR.js";var X=y('<div class="fixed bottom-0 left-0 z-10 flex h-screen w-screen items-center justify-center rounded-xl bg-black bg-opacity-10"><div class="flex items-center"><span class="mr-4 text-3xl text-black">Loading</span> <svg class="h-8 w-8 animate-spin text-gray-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg></div></div>');function me(a){var e=X();h(a,e)}var Z=y('<input class="w-full rounded-md p-2 md:w-[70%] svelte-1w19983">'),q=y('<div class="mb-4 lg:min-w-[800px] md:min-w-[600px] items-center md:flex md:gap-0 !gap-4"><label class="pr-4 mb-2 md:mb-0 md:text-[16px] text-xs font-bold text-gray-600 md:w-[30%] md:text-left"> </label> <!> <!></div>');function pe(a,e){M(e,!1);let s=r(e,"bindValue",8),c=r(e,"text",8),g=r(e,"placeholder",8),w=r(e,"customInput",8,!1),m=r(e,"type",8,"text");const i=S();function _(n){const t=n.target;i("update",t.value)}O();var o=q(),l=x(o),b=x(l,!0);v(l);var p=f(l,2);T(p,()=>!w(),n=>{var t=Z();H(t),F(()=>{d(t,"type",m()),P(t,s()),d(t,"placeholder",g())}),B("input",t,_),h(n,t)});var k=f(p,2);j(k,e,"default",{},null),v(o),F(()=>E(b,c())),h(a,o),V()}var G=(a,e,s)=>{const c=a.target;e("update",{value:c.value,index:s.indexArr})},J=(a,e,s)=>e(a,s.indexArr),K=y('<div class="mb-4 lg:min-w-[800px] md:min-w-[600px] items-center md:flex gap-3"><label class="md:text-[15px] leading-5 text-xs pr-4 mb-2 md:mb-0 font-bold text-gray-600 md:w-[30%] md:text-left"> </label> <div class="flex w-full gap-2 md:w-[70%]"><input disabled type="text" class="flex-1 rounded-md p-2 svelte-p4kol9"> <label class="group relative inline-block cursor-pointer px-2 py-2 md:px-4 md:py-2 font-medium"><span class="absolute inset-0 h-full w-full translate-x-1 translate-y-1 transform bg-black transition duration-200 ease-out group-hover:-translate-x-0 group-hover:-translate-y-0"></span> <span class="absolute inset-0 h-full w-full border-2 border-black bg-white group-hover:bg-black"></span> <span class="relative text-xs md:text-[16px] text-black group-hover:text-white">Upload</span></label> <input class="hidden rounded-md p-2 svelte-p4kol9" type="file" accept="image/*"></div></div>');function ue(a,e){M(e,!0);let s=r(e,"loading",7,!1),c=r(e,"placeholder",3,"https://placehold.co/315x340");const g=S(),w=async(k,n)=>{var A;const t=k.target.files[0];if(console.log("selectedFile",t),!t){u({message:"No file selected.",type:"error"});return}if(t.size>N){u({message:"File size exceeds 2MB.",type:"error"});return}const I=new FormData;I.append("image",t),s(!0);try{const z=`${U}api/upload`,C=await fetch(z,{method:"POST",body:I});if(C.ok){const L=(await C.json()).filePath;u({message:"File uploaded successfully",type:"success"}),g("update",{value:L,index:n}),(A=e.customFuncion)==null||A.call(e,L,n)}else u({message:"File upload failed.",type:"error"})}catch{u({message:"File upload failed.",type:"error"})}finally{s(!1)}};var m=K(),i=x(m),_=x(i,!0);v(i);var o=f(i,2),l=x(o);H(l),l.__input=[G,g,e];var b=f(l,2),p=f(b,2);p.__change=[J,w,e],v(o),v(m),F(()=>{d(i,"for",`upload-${e.indexArr??""}`),E(_,e.text),P(l,e.bindValue),d(l,"placeholder",c()),d(b,"for",`upload-${e.indexArr??""}`),d(p,"id",`upload-${e.indexArr??""}`)}),h(a,m),V()}D(["input","change"]);export{pe as I,me as L,ue as a};
