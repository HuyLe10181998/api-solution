import{G as Y,I as q,L as w,P as F,J as M,l as s,b as U,u as g,K as G,R as x,M as h,N as y,O as V,Q as $,S as z,T as H,m as L,U as J,V as p,W as K,X as Q,Y as W}from"./runtime.BrVA7zyZ.js";import{p as X}from"./proxy.n5da44IA.js";import{c as Z}from"./store.BskVr1ja.js";import{l as j}from"./index.BFqC5wTN.js";function B(r){for(var a=p,n=p;a!==null&&!(a.f&(G|x));)a=a.parent;try{return h(a),r()}finally{h(n)}}function ne(r,a,n,v){var T;var R=(n&y)!==0,d=!j||(n&V)!==0,m=(n&$)!==0,C=(n&K)!==0,O=!1,u;m?[u,O]=Z(()=>r[a]):u=r[a];var D=z in r||H in r,_=((T=Y(r,a))==null?void 0:T.set)??(D&&m&&a in r?e=>r[a]=e:void 0),t=v,P=!0,S=!1,b=()=>(S=!0,P&&(P=!1,C?t=g(v):t=v),t);u===void 0&&v!==void 0&&(_&&d&&q(),u=b(),_&&_(u));var i;if(d)i=()=>{var e=r[a];return e===void 0?b():(P=!0,S=!1,e)};else{var A=B(()=>(R?L:J)(()=>r[a]));A.f|=w,i=()=>{var e=s(A);return e!==void 0&&(t=void 0),e===void 0?t:e}}if(!(n&F))return i;if(_){var N=r.$$legacy;return function(e,f){return arguments.length>0?((!d||!f||N||O)&&_(f?i():e),e):i()}}var c=!1,E=!1,o=Q(u),l=B(()=>L(()=>{var e=i(),f=s(o);return c?(c=!1,E=!0,f):(E=!1,o.v=e)}));return R||(l.equals=M),function(e,f){if(W!==null&&(c=E,i(),s(o)),arguments.length>0){const I=f?s(l):d&&m?X(e):e;return l.equals(I)||(c=!0,U(o,I),S&&t!==void 0&&(t=I),g(()=>s(l))),e}return s(l)}}export{ne as p};
